{"ast":null,"code":"import { defineComponent, ref } from \"vue\";\nexport default defineComponent({\n  name: \"SearchField\",\n  setup(props, {\n    emit\n  }) {\n    const searchText = ref(\"\");\n    const suggestions = ref([]);\n    // const allNodes = [\"Node 1\", \"Node 2\", \"Node 3\"];\n    const allNodes = [{\n      name: \"Dummy Node\",\n      numInputs: 1,\n      numOutputs: 1,\n      type: \"Source\"\n    }, {\n      name: \"Data Generator\",\n      numInputs: 0,\n      numOutputs: 2,\n      type: \"Source\"\n    }, {\n      name: \"CASE Switch Data (Start)\",\n      numInputs: 1,\n      numOutputs: 3,\n      type: \"Manipulator\"\n    }, {\n      name: \"Cluster Assigner\",\n      numInputs: 1,\n      numOutputs: 1,\n      type: \"Predictor\"\n    }];\n    const updateSuggestions = () => {\n      suggestions.value = allNodes.filter(node => node.toLowerCase().includes(searchText.value.toLowerCase()));\n    };\n    const selectSuggestion = (index = -1) => {\n      if (index < 0) {\n        index = suggestions.value.findIndex(suggestion => suggestion.toLowerCase() === searchText.value.toLowerCase());\n      }\n      if (index >= 0) {\n        const selectedNode = suggestions.value[index];\n        searchText.value = \"\";\n        suggestions.value = [];\n        // Emit the event with the selected node\n        emit(\"add-node\", selectedNode);\n      }\n    };\n    return {\n      searchText,\n      suggestions,\n      updateSuggestions,\n      selectSuggestion\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","name","setup","props","emit","searchText","suggestions","allNodes","numInputs","numOutputs","type","updateSuggestions","value","filter","node","toLowerCase","includes","selectSuggestion","index","findIndex","suggestion","selectedNode"],"sources":["/Users/ivan/dev/knime-frontend-challenge/interactive-workflow/src/components/SearchField.vue"],"sourcesContent":["<template>\n  <div class=\"search-field\">\n    <div class=\"input-container\">\n      <input\n        type=\"text\"\n        v-model=\"searchText\"\n        @input=\"updateSuggestions\"\n        @keydown.enter=\"selectSuggestion\"\n        placeholder=\"Add new node...\"\n      />\n      <ul v-if=\"suggestions.length\" class=\"suggestion-list\">\n        <li\n          v-for=\"(suggestion, index) in suggestions\"\n          :key=\"index\"\n          @click=\"selectSuggestion(index)\"\n        >\n          {{ suggestion }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\n\nexport default defineComponent({\n  name: \"SearchField\",\n  setup(props, { emit }) {\n    const searchText = ref(\"\");\n    const suggestions = ref([]);\n    // const allNodes = [\"Node 1\", \"Node 2\", \"Node 3\"];\n    const allNodes = [\n      { name: \"Dummy Node\", numInputs: 1, numOutputs: 1, type: \"Source\" },\n      { name: \"Data Generator\", numInputs: 0, numOutputs: 2, type: \"Source\" },\n      {\n        name: \"CASE Switch Data (Start)\",\n        numInputs: 1,\n        numOutputs: 3,\n        type: \"Manipulator\",\n      },\n      {\n        name: \"Cluster Assigner\",\n        numInputs: 1,\n        numOutputs: 1,\n        type: \"Predictor\",\n      },\n    ];\n\n    const updateSuggestions = () => {\n      suggestions.value = allNodes.filter((node) =>\n        node.toLowerCase().includes(searchText.value.toLowerCase())\n      );\n    };\n\n    const selectSuggestion = (index = -1) => {\n      if (index < 0) {\n        index = suggestions.value.findIndex(\n          (suggestion) =>\n            suggestion.toLowerCase() === searchText.value.toLowerCase()\n        );\n      }\n\n      if (index >= 0) {\n        const selectedNode = suggestions.value[index];\n        searchText.value = \"\";\n        suggestions.value = [];\n        // Emit the event with the selected node\n        emit(\"add-node\", selectedNode);\n      }\n    };\n\n    return { searchText, suggestions, updateSuggestions, selectSuggestion };\n  },\n});\n</script>\n\n<style scoped>\n.search-field {\n  margin: 10px;\n}\n\n.input-container {\n  position: relative;\n  display: inline-block;\n}\n\ninput {\n  width: 200px;\n}\n\n.suggestion-list {\n  position: absolute;\n  background-color: white;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  max-height: 200px;\n  overflow-y: auto;\n  width: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.suggestion-list li {\n  padding: 10px;\n  cursor: pointer;\n}\n\n.suggestion-list li:hover {\n  background-color: #eee;\n}\n</style>\n"],"mappings":"AAwBA,SAASA,eAAe,EAAEC,GAAE,QAAS,KAAK;AAE1C,eAAeD,eAAe,CAAC;EAC7BE,IAAI,EAAE,aAAa;EACnBC,KAAKA,CAACC,KAAK,EAAE;IAAEC;EAAK,CAAC,EAAE;IACrB,MAAMC,UAAS,GAAIL,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMM,WAAU,GAAIN,GAAG,CAAC,EAAE,CAAC;IAC3B;IACA,MAAMO,QAAO,GAAI,CACf;MAAEN,IAAI,EAAE,YAAY;MAAEO,SAAS,EAAE,CAAC;MAAEC,UAAU,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAS,CAAC,EACnE;MAAET,IAAI,EAAE,gBAAgB;MAAEO,SAAS,EAAE,CAAC;MAAEC,UAAU,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAS,CAAC,EACvE;MACET,IAAI,EAAE,0BAA0B;MAChCO,SAAS,EAAE,CAAC;MACZC,UAAU,EAAE,CAAC;MACbC,IAAI,EAAE;IACR,CAAC,EACD;MACET,IAAI,EAAE,kBAAkB;MACxBO,SAAS,EAAE,CAAC;MACZC,UAAU,EAAE,CAAC;MACbC,IAAI,EAAE;IACR,CAAC,CACF;IAED,MAAMC,iBAAgB,GAAIA,CAAA,KAAM;MAC9BL,WAAW,CAACM,KAAI,GAAIL,QAAQ,CAACM,MAAM,CAAEC,IAAI,IACvCA,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACX,UAAU,CAACO,KAAK,CAACG,WAAW,EAAE,EAC3D;IACH,CAAC;IAED,MAAME,gBAAe,GAAIA,CAACC,KAAI,GAAI,CAAC,CAAC,KAAK;MACvC,IAAIA,KAAI,GAAI,CAAC,EAAE;QACbA,KAAI,GAAIZ,WAAW,CAACM,KAAK,CAACO,SAAS,CAChCC,UAAU,IACTA,UAAU,CAACL,WAAW,EAAC,KAAMV,UAAU,CAACO,KAAK,CAACG,WAAW,EAAC,CAC7D;MACH;MAEA,IAAIG,KAAI,IAAK,CAAC,EAAE;QACd,MAAMG,YAAW,GAAIf,WAAW,CAACM,KAAK,CAACM,KAAK,CAAC;QAC7Cb,UAAU,CAACO,KAAI,GAAI,EAAE;QACrBN,WAAW,CAACM,KAAI,GAAI,EAAE;QACtB;QACAR,IAAI,CAAC,UAAU,EAAEiB,YAAY,CAAC;MAChC;IACF,CAAC;IAED,OAAO;MAAEhB,UAAU;MAAEC,WAAW;MAAEK,iBAAiB;MAAEM;IAAiB,CAAC;EACzE;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}